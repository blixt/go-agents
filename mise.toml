[tools]
go = "1.25.6"
bun = "1.2.23"
watchexec = "latest"
golangci-lint = "latest"

[tasks.start]
description = "Run agentd server"
run = [
  "go run ./cmd/agentd",
]

[tasks.dev]
description = "Auto-reload agentd on changes"
run = [
  "watchexec -r -e go,ts,html,css -w . -- go run ./cmd/agentd",
]

[tasks.test]
description = "Run all tests"
run = [
  "go test ./...",
]

[tasks.format]
description = "Format + lint + vet"
run = [
  "gofmt -w $(find . -name '*.go' -not -path './vendor/*')",
  "go vet ./...",
  "golangci-lint run",
]
